<!DOCTYPE html><html lang="en" data-theme="dark"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0"><title>Yuhanのblog - ಠ_ಠ</title><meta name="author" content="ZhangYuhan"><meta name="copyright" content="ZhangYuhan"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#0d0d0d"><meta name="description" content="Record the growth and learning process">
<meta property="og:type" content="website">
<meta property="og:title" content="Yuhanのblog">
<meta property="og:url" content="https://zhangyuhan.netlify.app/page/3/index.html">
<meta property="og:site_name" content="Yuhanのblog">
<meta property="og:description" content="Record the growth and learning process">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="https://zhangyuhan.netlify.app/img/theme/shenhe.jpg">
<meta property="article:author" content="ZhangYuhan">
<meta property="article:tag" content="blog,java,js,日本语">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://zhangyuhan.netlify.app/img/theme/shenhe.jpg"><link rel="shortcut icon" href="/img/theme/favicon.ico"><link rel="canonical" href="https://zhangyuhan.netlify.app/page/3/index.html"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/node-snackbar/dist/snackbar.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.min.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: {"path":"/search.xml","preload":false,"languages":{"hits_empty":"We didn't find any results for the search: ${query}"}},
  translate: {"defaultEncoding":2,"translateDelay":0,"msgToTraditionalChinese":"繁","msgToSimplifiedChinese":"簡"},
  noticeOutdate: undefined,
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false},
  copy: {
    success: 'Copy successfully',
    error: 'Copy error',
    noSupport: 'The browser does not support'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: 'days',
  date_suffix: {
    just: 'Just',
    min: 'minutes ago',
    hour: 'hours ago',
    day: 'days ago',
    month: 'months ago'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: {"chs_to_cht":"Traditional Chinese Activated Manually","cht_to_chs":"Simplified Chinese Activated Manually","day_to_night":"Dark Mode Activated Manually","night_to_day":"Light Mode Activated Manually","bgLight":"#49b1f5","bgDark":"#1f1f1f","position":"bottom-left"},
  source: {
    justifiedGallery: {
      js: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.js',
      css: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.css'
    }
  },
  isPhotoFigcaption: false,
  islazyload: false,
  isAnchor: false,
  percent: {
    toc: true,
    rightside: true,
  }
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'Yuhanのblog',
  isPost: false,
  isHome: true,
  isHighlightShrink: false,
  isToc: false,
  postUpdate: '2025-09-18 10:29:10'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
    win.saveToLocal = {
      set: function setWithExpiry(key, value, ttl) {
        if (ttl === 0) return
        const now = new Date()
        const expiryDay = ttl * 86400000
        const item = {
          value: value,
          expiry: now.getTime() + expiryDay,
        }
        localStorage.setItem(key, JSON.stringify(item))
      },

      get: function getWithExpiry(key) {
        const itemStr = localStorage.getItem(key)

        if (!itemStr) {
          return undefined
        }
        const item = JSON.parse(itemStr)
        const now = new Date()

        if (now.getTime() > item.expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return item.value
      }
    }
  
    win.getScript = url => new Promise((resolve, reject) => {
      const script = document.createElement('script')
      script.src = url
      script.async = true
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    })
  
    win.getCSS = (url,id = false) => new Promise((resolve, reject) => {
      const link = document.createElement('link')
      link.rel = 'stylesheet'
      link.href = url
      if (id) link.id = id
      link.onerror = reject
      link.onload = link.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        link.onload = link.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(link)
    })
  
      win.activateDarkMode = function () {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = function () {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
          if (t === 'dark') activateDarkMode()
          else if (t === 'light') activateLightMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
    const detectApple = () => {
      if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
    })(window)</script><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/modify.css"><link rel="stylesheet" href="/css/universe.css"><link rel="stylesheet" href="/css/card.css"><link rel="stylesheet" href="/css/custom.css"><!-- hexo injector head_end start --><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/Zfour/Butterfly-double-row-display@1.00/cardlistpost.min.css"/>
<style>#recent-posts > .recent-post-item >.recent-post-info > .article-meta-wrap > .tags:before {content:"\A";
  white-space: pre;}#recent-posts > .recent-post-item >.recent-post-info > .article-meta-wrap > .tags > .article-meta__separator{display:none}</style>
<!-- hexo injector head_end end --><meta name="generator" content="Hexo 6.3.0"><link rel="alternate" href="/atom.xml" title="Yuhanのblog" type="application/atom+xml">
</head><body><div id="web_bg"></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src="/img/theme/shenhe.jpg" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="sidebar-site-data site-data is-center"><a href="/archives/"><div class="headline">Articles</div><div class="length-num">214</div></a><a href="/tags/"><div class="headline">Tags</div><div class="length-num">279</div></a><a href="/categories/"><div class="headline">Categories</div><div class="length-num">70</div></a></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> Home</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> Archives</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> Tags</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> Categories</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> Link</span></a></div></div></div></div><div class="page" id="body-wrap"><header class="full_page" id="page-header"><nav id="nav"><span id="blog-info"><a href="/" title="Yuhanのblog"><img class="site-icon" src="/img/theme/logo.png"/></a></span><div id="menus"><div id="search-button"><a class="site-page social-icon search" href="javascript:void(0);" rel="external nofollow noreferrer"><i class="fas fa-search fa-fw"></i><span> Search</span></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> Home</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> Archives</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> Tags</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> Categories</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> Link</span></a></div></div><div id="toggle-menu"><a class="site-page" href="javascript:void(0);" rel="external nofollow noreferrer"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="site-info"><h1 id="site-title">Yuhanのblog</h1><div id="site-subtitle"><span id="subtitle"></span></div><div id="site_social_icons"><a class="social-icon" href="https://github.com/zhangyuhannerv" rel="external nofollow noreferrer" target="_blank" title="Github"><i class="fab fa-github"></i></a><a class="social-icon" href="mailto:zhangyuhannerv@gmail.com" rel="external nofollow noreferrer" target="_blank" title="Email"><i class="fas fa-envelope"></i></a></div></div><div id="scroll-down"><i class="fas fa-angle-down scroll-down-effects"></i></div></header><main class="layout" id="content-inner"><div class="recent-posts" id="recent-posts"><div class="recent-post-item"><div class="recent-post-info no-cover"><a class="article-title" href="/posts/1170.html" title="SpringBoot下最全的依赖注入方式">SpringBoot下最全的依赖注入方式</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time datetime="2023-06-21T06:06:44.000Z" title="Created 2023-06-21 14:06:44">2023-06-21</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/Dev/">Dev</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/categories/Dev/SpringBoot/">SpringBoot</a></span></div><div class="content">属性注入通过属性注入的方式非常常用，或者说是最常用的
@Servicepublic class UserService &#123;    @Autowired    private Wolf1Bean wolf1Bean;//通过属性注入&#125;
setter 方法注入除了通过属性注入，通过 setter 方法也可以实现注入：
@Servicepublic class UserService &#123;    private Wolf3Bean wolf3Bean;        @Autowired  //通过setter方法实现注入    public void setWolf3Bean(Wolf3Bean wolf3Bean) &#123;        this.wolf3Bean = wolf3Bean;    &#125;&#125;
构造器注入当两个类属于强关联时，我们也可以通过构造器的方式来实现注入：
@Servicepublic class UserService &#123;  private Wolf2Bean wolf2Bean;         @Au ...</div></div></div><div class="recent-post-item"><div class="recent-post-info no-cover"><a class="article-title" href="/posts/25161.html" title="mybatis的一些查询示例">mybatis的一些查询示例</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time datetime="2023-06-15T01:23:13.000Z" title="Created 2023-06-15 09:23:13">2023-06-15</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/Dev/">Dev</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/categories/Dev/mybatisPlus/">mybatisPlus</a></span></div><div class="content">建表所需的必须字段mysqlCREATE_TIME  创建时间    DATETIME,CREATE_BY   创建人    VARCHAR(100),UPDATE_TIME  更新时间   DATETIME,UPDATE_BY   更新人    VARCHAR(100),DEL_FLAG    删除标志(0未删除，1已删除）   int(11)   default 0
oracleCREATE_TIME  创建时间    DATE,CREATE_BY   创建人    VARCHAR2(100),UPDATE_TIME  更新时间   DATE,UPDATE_BY   更新人    VARCHAR2(100),DEL_FLAG    删除标志(0未删除，1已删除）   NUMBER(1,0)   default 0
like的写法mysql&lt;select id=&quot;findByName&quot; parameterType=&quot;String&quot; resultType=&quot;YourEntityType&quot;&gt;    SELECT *  ...</div></div></div><div class="recent-post-item"><div class="recent-post-info no-cover"><a class="article-title" href="/posts/57079.html" title="RedisTemplate工具类整合">RedisTemplate工具类整合</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time datetime="2023-05-31T02:09:14.000Z" title="Created 2023-05-31 10:09:14">2023-05-31</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/Dev/">Dev</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/categories/Dev/redis/">redis</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/categories/Dev/redis/ResidTemplate/">ResidTemplate</a></span></div><div class="content">@Componentpublic class RedisUtils &#123;    private static  RedisTemplate&lt;String, Object&gt; redisTemplate;    public RedisUtils(RedisTemplate&lt;String, Object&gt; redisTemplate) &#123;        RedisUtils.redisTemplate = redisTemplate;    &#125;    /**     * 判断缓存是否存在     * @param key 缓存key     * @return 缓存是否存在     */    public static Boolean hasKey(String key)&#123;        return redisTemplate.hasKey(key);    &#125;    /**     * 缓存数据     * @param key 缓存key     * @param value 缓存值     */    pub ...</div></div></div><div class="recent-post-item"><div class="recent-post-info no-cover"><a class="article-title" href="/posts/55495.html" title="Springboot调用外部http接口的三种方式">Springboot调用外部http接口的三种方式</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time datetime="2023-05-30T03:05:30.000Z" title="Created 2023-05-30 11:05:30">2023-05-30</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/Dev/">Dev</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/categories/Dev/SpringBoot/">SpringBoot</a></span></div><div class="content">https://blog.csdn.net/Chelsea__/article/details/126689495
</div></div></div><div class="recent-post-item"><div class="recent-post-info no-cover"><a class="article-title" href="/posts/9793.html" title="多线程事务回滚">多线程事务回滚</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time datetime="2023-05-23T01:44:23.000Z" title="Created 2023-05-23 09:44:23">2023-05-23</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/Dev/">Dev</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/categories/Dev/Java/">Java</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/categories/Dev/Java/JUC/">JUC</a></span></div><div class="content">场景项目需要 导入一批数据，对数据进行切割，用多线程跑。
问题点方法上增加@Transactional，对多线程无效，发生异常，子线程不会回滚，即使在子线程中增加@Transactional。原因：线程不归spring容器管理，也就不指望通知回滚了。
代码将大数据进行切割 // apache自带切割api, num是对应想要切几段ListUtils.partition(list, num);
使用异常标志、发令枪控制各线程回滚@Transactional(rollbackFor = Exception.class)public Result&lt;String&gt; dealData(int sheetMergeCount) &#123;		// todo 业务逻辑...		// 切割数据        List&lt;List&lt;Integer&gt;&gt; list = splitList(sheetMergeCount, 10);        // 异常标志，AtomicBoolean保证线程安全        AtomicBoolean isError = new A ...</div></div></div><div class="recent-post-item"><div class="recent-post-info no-cover"><a class="article-title" href="/posts/14380.html" title="OAuth 2.0 第三方登录">OAuth 2.0 第三方登录</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time datetime="2023-05-09T01:04:44.000Z" title="Created 2023-05-09 09:04:44">2023-05-09</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/Dev/">Dev</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/categories/Dev/OAuth2-0/">OAuth2.0</a></span></div><div class="content">OAuth简介OAuth2.0介绍介绍OAuth协议：https://www.rfc-editor.org/rfc/rfc6749
OAuth（Open Authorization）是一个关于授权（authorization）的开放网络标准，允许用户授权第三方 应用访问他们存储在另外的服务提供者上的信息，而不需要将用户名和密码提供给第三方移动应用或分享他 们数据的所有内容。OAuth在全世界得到广泛应用，目前的版本是2.0版。
协议特点：

简单： 不管是OAuth服务提供者还是应用开发者，都很易于理解与使用；
安全： 没有涉及到用户密钥等信息，更安全更灵活；
开放： 任何服务提供商都可以实现OAuth，任何软件开发商都可以使用OAuth；

应用场景
原生app授权： app登录请求后台接口，为了安全认证，所有请求都带token信息，如果登录验证、 请求后台数据
前后端分离单页面应用： 前后端分离框架，前端请求后台数据，需要进行oauth2安全认证
第三方应用授权登录： 比如QQ，微博，微信的授权登录


基本概念OAuth的作用就是让”客户端”安全可控地获取”用户”的授权，与”服务 ...</div></div></div><div class="recent-post-item"><div class="recent-post-info no-cover"><a class="article-title" href="/posts/21268.html" title="SpringBoot设置动态定时任务">SpringBoot设置动态定时任务</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time datetime="2023-04-18T03:05:30.000Z" title="Created 2023-04-18 11:05:30">2023-04-18</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/Dev/">Dev</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/categories/Dev/SpringBoot/">SpringBoot</a></span></div><div class="content">SpringBoot项目中简单使用定时任务，要借助cron表达式且都提前定义好放在配置文件里，不能在项目运行中动态修改任务执行时间，实在不太灵活。
经过网上搜索学习后，特此记录如何在SpringBoot项目中实现动态定时任务。
因为只是一个demo，所以只引入了需要的依赖：
&lt;dependencies&gt;    &lt;dependency&gt;        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;        &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;    &lt;/dependency&gt;    &lt;dependency&gt;        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;        &lt;artifactId&gt;spring-boot-starter-log4j2&lt;/artifactId&gt;        &l ...</div></div></div><div class="recent-post-item"><div class="recent-post-info no-cover"><a class="article-title" href="/posts/2224.html" title="category-line的两种数据类型所绘制图形不同的问题">category-line的两种数据类型所绘制图形不同的问题</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time datetime="2023-04-18T02:14:34.000Z" title="Created 2023-04-18 10:14:34">2023-04-18</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/Dev/">Dev</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/categories/Dev/JavaScript/">JavaScript</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/categories/Dev/JavaScript/Echarts/">Echarts</a></span></div><div class="content">第一种配置项：xAxis和series的data分开option = &#123;  xAxis: &#123;    type: &#x27;category&#x27;,    data: [&#x27;a&#x27;,&#x27;a&#x27;]  &#125;,  yAxis: &#123;    type: &#x27;value&#x27;  &#125;,  series: [    &#123;      data: [150,150],      type: &#x27;line&#x27;    &#125;  ]&#125;;
渲染出来的结果：一条横线
第二种配置项：xAxis不设置data，series的data设置为二维数组option = &#123;  xAxis: &#123;    type: &#x27;category&#x27;  &#125;,  yAxis: &#123;    type: &#x27;value&#x27;  &#125;,  series: [    &#123;      data: [        [&#x27;a& ...</div></div></div><div class="recent-post-item"><div class="recent-post-info no-cover"><a class="article-title" href="/posts/39078.html" title="SpringBoot统一登录鉴权、异常处理、数据格式">SpringBoot统一登录鉴权、异常处理、数据格式</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time datetime="2023-04-14T07:47:44.000Z" title="Created 2023-04-14 15:47:44">2023-04-14</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/Dev/">Dev</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/categories/Dev/SpringBoot/">SpringBoot</a></span></div><div class="content">本篇将要学习 Spring Boot 统一功能处理模块，这也是 AOP 的实战环节

用户登录权限的校验实现接口 HandlerInterceptor + WebMvcConfigurer
异常处理使用注解 @RestControllerAdvice + @ExceptionHandler
数据格式返回使用注解 @ControllerAdvice 并且实现接口 @ResponseBodyAdvice

统一用户登录权限效验用户登录权限的发展完善过程最初用户登录效验：在每个方法中获取 Session 和 Session 中的用户信息，如果存在用户，那么就认为登录成功了，否则就登录失败了第二版用户登录效验：提供统一的方法，在每个需要验证的方法中调用统一的用户登录身份效验方法来判断第三版用户登录效验：使用 Spring AOP 来统一进行用户登录效验第四版用户登录效验：使用 Spring 拦截器来实现用户的统一登录验证
最初用户登录权限效验@RestController@RequestMapping(&quot;/user&quot;)public class UserController  ...</div></div></div><div class="recent-post-item"><div class="recent-post-info no-cover"><a class="article-title" href="/posts/8942.html" title="RabbitMq博客整理">RabbitMq博客整理</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time datetime="2023-03-21T03:04:44.000Z" title="Created 2023-03-21 11:04:44">2023-03-21</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/Dev/">Dev</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/categories/Dev/RabbitMq/">RabbitMq</a></span></div><div class="content">SpringBoot 整合 RabbitMQ（注解监听，临时队列）RabbitMQ 可靠性、重复消费、顺序性、消息积压解决方案RabbitMQ：消息丢失 | 消息重复 | 消息积压的原因+解决方案+网上学不到的使用心得
</div></div></div><div class="recent-post-item"><div class="recent-post-info no-cover"><a class="article-title" href="/posts/41445.html" title="RabbitMq和SpringBoot的整合">RabbitMq和SpringBoot的整合</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time datetime="2023-03-16T09:36:44.000Z" title="Created 2023-03-16 17:36:44">2023-03-16</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/Dev/">Dev</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/categories/Dev/RabbitMq/">RabbitMq</a></span></div><div class="content">介绍该篇文章内容较多，包括有 rabbitMq 相关的一些简单理论介绍，provider 消息推送实例，consumer 消息消费实例，Direct、Topic、Fanout 的使用，消息回调、手动确认等。 （但是关于 rabbitMq 的安装，就不介绍了）
在安装完 rabbitMq 后，输入 http://ip:15672/ ，是可以看到一个简单后台管理界面的。

在这个界面里面我们可以做些什么？可以手动创建虚拟 host，创建用户，分配权限，创建交换机，创建队列等等，还有查看队列消息，消费效率，推送效率等等。
以上这些管理界面的操作在这篇暂时不做扩展描述，我想着重介绍后面实例里会使用到的。
首先先介绍一个简单的一个消息推送到接收的流程，提供一个简单的图：

黄色的圈圈就是我们的消息推送服务，将消息推送到 中间方框里面也就是 rabbitMq 的服务器，然后经过服务器里面的交换机、队列等各种关系（后面会详细讲）将数据处理入列后，最终右边的蓝色圈圈消费者获取对应监听的消息。
常用的交换机有以下三种，因为消费者是从队列获取信息的，队列是绑定交换机的（一般），所以对应的消息推送/接收模式 ...</div></div></div><div class="recent-post-item"><div class="recent-post-info no-cover"><a class="article-title" href="/posts/33806.html" title="利用jar命令修改jar包中文件的内容">利用jar命令修改jar包中文件的内容</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time datetime="2023-03-10T10:08:00.000Z" title="Created 2023-03-10 18:08:00">2023-03-10</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/Dev/">Dev</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/categories/Dev/Java/">Java</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/categories/Dev/Java/Java-command/">Java command</a></span></div><div class="content">查找需要修改jar包中的application.yml文件路径[root@test ~]# jar tf test.jar | grep application.ymlBOOT-INF/classes/application.yml
导出jar包中的application.yml文件[root@test ~]# jar xf test.jar BOOT-INF/classes/application.yml[root@test ~]# lldrwxr-xr-x   3 root root        21 6月  28 14:54 BOOT-INF[root@test ~]# tree BOOT-INFBOOT-INF└── classes    └── application.yml1 directory, 1 file
修改编辑导出的配置文件[root@test ~]# vim BOOT-INF/classes/application.yml
将修改后的文件重新打入jar包[root@test ~]# jar uf test.jar BOOT-INF/classes/applic ...</div></div></div><div class="recent-post-item"><div class="recent-post-info no-cover"><a class="article-title" href="/posts/45582.html" title="8种从spring容器里获取bean的方式">8种从spring容器里获取bean的方式</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time datetime="2023-03-10T00:46:38.000Z" title="Created 2023-03-10 08:46:38">2023-03-10</time></span></div><div class="content">在初始化时保存ApplicationContext对象适用于Spring框架的独立应用程序，须要程序通过配置文件初始化Spring。applicationContext.xml配置：&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;       xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;       xmlns:p=&quot;http://www.springframework.org/schema/p&quot;       xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd&q ...</div></div></div><div class="recent-post-item"><div class="recent-post-info no-cover"><a class="article-title" href="/posts/47358.html" title="快速搭建v2ray">快速搭建v2ray</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time datetime="2023-03-06T07:47:44.000Z" title="Created 2023-03-06 15:47:44">2023-03-06</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/Life/">Life</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/categories/Life/v2ray/">v2ray</a></span></div><div class="content">
  0783c7a821e71906579a5c8fae0b5765f7d19a65d5d7adf1d9fc89456874fb3455c40e47f61bd48d511d56671fc1da43a8ba6f78a37f172ff0fbf689e775e003301fccd8ddbafdf8af7a71f509e13925429030910bd305a2580c64a122d97e636f145bfee4e731f923409fcee2baadd7d61aebace455ba05a26a4b7092d7fd7bbd8b4f63c008d3ab7cf3ee8f5c9248aeda77314997c4f1e54bdb7bacf5bb06276fe85ff46e22508b04a7ccb79c4e1c311558d0df848e74014e8c4a35afe9539cadba0ac6b17e4223266981aec29c37b8d0314bfc9590b658065b2bdfd4be300597255ff73e773f012fd77d959be43fc1d280c2edc8e6e1a49 ...</div></div></div><div class="recent-post-item"><div class="recent-post-info no-cover"><a class="article-title" href="/posts/49496.html" title="toDo">toDo</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time datetime="2023-03-06T07:47:44.000Z" title="Created 2023-03-06 15:47:44">2023-03-06</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/Life/">Life</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/categories/Life/todo/">todo</a></span></div><div class="content">
  0783c7a821e71906579a5c8fae0b5765f7d19a65d5d7adf1d9fc89456874fb345fd45bf6a59111d263a347903155debee7cf4fc37800f9d5814590dea63ef1bb41e2b6a18a5bab40295246dd893a49fad09f72ba83632a8a1bfd512dfa78fa84c8c9813e2006ea100c4895893d762f78100f35dbc90a40eae3d9a708c39d682e9b95cde37cef7fad0df21c46f0205d4fe550bd8f64ff35d4190ed200052fb825df5897f41b858b222c05814e03fcc0aff1148a7e34c407342108f3d4b4f4081a7fdeb1ff1d848b52158c1db1ba305c42d4dcff7b63636e83fb300cbb9390245b45ea6aacaf02dc5e55a9db196c9f0410022dfbc4a461aa1e8 ...</div></div></div><div class="recent-post-item"><div class="recent-post-info no-cover"><a class="article-title" href="/posts/30134.html" title="toSee">toSee</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time datetime="2023-03-06T07:47:44.000Z" title="Created 2023-03-06 15:47:44">2023-03-06</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/Life/">Life</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/categories/Life/todo/">todo</a></span></div><div class="content">
  0783c7a821e71906579a5c8fae0b5765f7d19a65d5d7adf1d9fc89456874fb34f858a876b23a627e2727fe73d1bef0a9153a8fe8f680893be708c51b4e5c3cda6ad26904979e981dcd28750d599ea9765d2ef7ea6874f633d8d6d070435ad3abc7c93ad533f91f32ddd0908fe9f9e86e17400988b1a37f1eedf4d1f76e52b433f5e6ca2d48608c8446546ff4c7d19ef45cb419326e3cfb1a60f14825f2da50c557cc4e832097a2a96097223e78a6932011c025c7dd410571c90415ae15d199fd4a1dba44a75d9891f515852263b18e0a531131f5563b6716e394d6d7b84c471d70388a822b85a1e689e0405d57a5456ba8d56cfac28968e6b ...</div></div></div><div class="recent-post-item"><div class="recent-post-info no-cover"><a class="article-title" href="/posts/17762.html" title="远程请求http的三种方式">远程请求http的三种方式</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time datetime="2023-03-06T07:47:44.000Z" title="Created 2023-03-06 15:47:44">2023-03-06</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/Dev/">Dev</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/categories/Dev/essays/">essays</a></span></div><div class="content">1.ajax 远程调用，远程服务器必须开放跨域访问权限
2.form 表单远程调用，不受跨域限制，缺点是需要组装表单
3.java 代码远程调用（常用的有 java.net.HttpURLConnection，springboot 的 restTemplate)
</div></div></div><div class="recent-post-item"><div class="recent-post-info no-cover"><a class="article-title" href="/posts/7682.html" title="待学习">待学习</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time datetime="2023-03-06T07:47:44.000Z" title="Created 2023-03-06 15:47:44">2023-03-06</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/Dev/">Dev</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/categories/Dev/essays/">essays</a></span></div><div class="content">
计算机网络：ipv6 部分
echarts 网课：前边布局，后面地图
ztree 的使用
jstree 的 demo
java 底层：2 进制，10 进制，移位，源码，补码，反码
前端关于滚动条的各个属性:clientHeight offsetHeight scrollHeight offsetTop scrollTop
redis 实战
js 高级
mysql 游标的使用
idea 工具的系统使用

</div></div></div><div class="recent-post-item"><div class="recent-post-info no-cover"><a class="article-title" href="/posts/22750.html" title="项目打成jar包时，将项目下的文件，以及所有的依赖打成一个jar包">项目打成jar包时，将项目下的文件，以及所有的依赖打成一个jar包</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time datetime="2023-03-06T07:47:44.000Z" title="Created 2023-03-06 15:47:44">2023-03-06</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/Dev/">Dev</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/categories/Dev/maven/">maven</a></span></div><div class="content">例子：在做一个单机的用 maven 管理的 swing 项目时，引入了 poi，但是打成的 jar 包里没有 poi 的依赖，导致用 exe4j 转换出的 exe 程序报错（Caused by: java.lang.NoClassDefFoundError）
这种错误就是没有将依赖打包进去导致的，所以最好打包成单个 jar 包。
解决办法：在 maven 里加入以下插件
&lt;plugin&gt;	&lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;	&lt;configuration&gt;		&lt;descriptorRefs&gt;			&lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;		&lt;/descriptorRefs&gt;	&lt;/configuration&gt;&lt;/plugin&gt;
在项目的根目录下执行(在执行以下任意操作前别忘了 clean。清除以前的 target 文件夹)mvn assembly:as ...</div></div></div><div class="recent-post-item"><div class="recent-post-info no-cover"><a class="article-title" href="/posts/4225.html" title="学习路线">学习路线</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time datetime="2023-03-06T07:47:44.000Z" title="Created 2023-03-06 15:47:44">2023-03-06</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/Dev/">Dev</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/categories/Dev/essays/">essays</a></span></div><div class="content">jlpt n5-&gt;n4-&gt;n3-&gt;n2
java：stream,lambda，IO 流，注解，反射，枚举，网络编程，websocket,nio
mysql,redis
jvm（初级）,jvm（中级和高级）,juc
spring-&gt;springmvc-&gt;springboot-&gt;springcloud
zookeeper,nginx,linux
kafka,rabbitmq
elasticsearch,minio
maven,docker,k8s
设计模式，计算机网络，数据结构与算法，计算机组成原理，操作系统，编译原理
项目:谷粒学院，谷粒商城，尚融宝
grid 布局

shiro,zookeeper,kafka计算机网络，操作系统，计算机组成原理maven,dockerjvm,juc,设计模式算法，刷题，面经
</div></div></div><nav id="pagination"><div class="pagination"><a class="extend prev" rel="prev" href="/page/2/#content-inner"><i class="fas fa-chevron-left fa-fw"></i></a><a class="page-number" href="/">1</a><a class="page-number" href="/page/2/#content-inner">2</a><span class="page-number current">3</span><a class="page-number" href="/page/4/#content-inner">4</a><span class="space">&hellip;</span><a class="page-number" href="/page/11/#content-inner">11</a><a class="extend next" rel="next" href="/page/4/#content-inner"><i class="fas fa-chevron-right fa-fw"></i></a></div></nav></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src="/img/theme/shenhe.jpg" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info__name">ZhangYuhan</div><div class="author-info__description">(o゜▽゜)o☆[BINGO!]</div></div><div class="card-info-data site-data is-center"><a href="/archives/"><div class="headline">Articles</div><div class="length-num">214</div></a><a href="/tags/"><div class="headline">Tags</div><div class="length-num">279</div></a><a href="/categories/"><div class="headline">Categories</div><div class="length-num">70</div></a></div><a id="card-info-btn" target="_blank" rel="noopener external nofollow noreferrer" href="https://twitter.com/ayanamiichi"><i class="fa-brands fa-twitter"></i><span>Follow Me</span></a><div class="card-info-social-icons is-center"><a class="social-icon" href="https://github.com/zhangyuhannerv" rel="external nofollow noreferrer" target="_blank" title="Github"><i class="fab fa-github"></i></a><a class="social-icon" href="mailto:zhangyuhannerv@gmail.com" rel="external nofollow noreferrer" target="_blank" title="Email"><i class="fas fa-envelope"></i></a></div></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>Announcement</span></div><div class="announcement_content">Welcome to my blog, here is a summary of my daily study and life collected and organized, I hope it can be helpful to you ^_^</div></div><div class="sticky_layout"><div class="card-widget card-webinfo"><div class="item-headline"><i class="fas fa-chart-line"></i><span>Info</span></div><div class="webinfo"><div class="webinfo-item"><div class="item-name">Article :</div><div class="item-count">214</div></div><div class="webinfo-item"><div class="item-name">Run time :</div><div class="item-count" id="runtimeshow" data-publishDate="2023-01-31T16:00:00.000Z"><i class="fa-solid fa-spinner fa-spin"></i></div></div><div class="webinfo-item"><div class="item-name">Total Count :</div><div class="item-count">110k</div></div><div class="webinfo-item"><div class="item-name">UV :</div><div class="item-count" id="busuanzi_value_site_uv"><i class="fa-solid fa-spinner fa-spin"></i></div></div><div class="webinfo-item"><div class="item-name">PV :</div><div class="item-count" id="busuanzi_value_site_pv"><i class="fa-solid fa-spinner fa-spin"></i></div></div><div class="webinfo-item"><div class="item-name">Last Push :</div><div class="item-count" id="last-push-date" data-lastPushDate="2025-09-18T02:29:10.283Z"><i class="fa-solid fa-spinner fa-spin"></i></div></div></div></div><div class="card-widget user-map" id="user-map"><div class="item-headline"><i class="fas fa-heartbeat"></i><span>visitor map</span></div><div class="item-content"><script type="text/javascript" id="clstr_globe" src="//clustrmaps.com/globe.js?d=5V2tOKp8qAdRM-i8eu7ETTO9ugt5uKbbG-U7Yj8uMl8"></script></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="copyright">&copy;2023 - 2025 By ZhangYuhan</div><div class="footer_custom_text">Hi, welcome to my blog</a>!</div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="translateLink" type="button" title="Switch Between Traditional Chinese And Simplified Chinese">繁</button><button id="darkmode" type="button" title="Switch Between Light And Dark Mode"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="Toggle between single-column and double-column"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="Setting"><i class="fas fa-cog fa-spin"></i></button><button id="go-up" type="button" title="Back To Top"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="/js/tw_cn.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.umd.min.js"></script><script src="https://cdn.jsdelivr.net/npm/instant.page/instantpage.min.js" type="module"></script><script src="https://cdn.jsdelivr.net/npm/node-snackbar/dist/snackbar.min.js"></script><div class="js-pjax"><script>window.typedJSFn = {
  init: (str) => {
    window.typed = new Typed('#subtitle', Object.assign({
      strings: str,
      startDelay: 300,
      typeSpeed: 150,
      loop: true,
      backSpeed: 50,
    }, null))
  },
  run: (subtitleType) => {
    if (true) {
      if (typeof Typed === 'function') {
        subtitleType()
      } else {
        getScript('https://cdn.jsdelivr.net/npm/typed.js/lib/typed.min.js').then(subtitleType)
      }
    } else {
      subtitleType()
    }
  }
}
</script><script>function subtitleType () {
  if (true) {
    typedJSFn.init(["人の梦は终わらねエ"])
  } else {
    document.getElementById("subtitle").innerHTML = '人の梦は终わらねエ'
  }
}
typedJSFn.run(subtitleType)</script></div><canvas id="universe"></canvas><script defer src="/js/universe.js"></scrip><script src="https://code.jquery.com/jquery-3.7.1.min.js" integrity="sha256-/JqT3SQfawRcv/BIHPThkBvs0OEvtFFmqPF/lYI/Cxo=" crossorigin="anonymous"></script><script type="text/javascript" src="/js/dynamicBg.js"></script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div><div id="local-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">Search</span><span id="loading-status"></span><button class="search-close-button"><i class="fas fa-times"></i></button></nav><div class="is-center" id="loading-database"><i class="fas fa-spinner fa-pulse"></i><span>  Loading the Database</span></div><div class="search-wrap"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="Search for Posts" type="text"/></div></div><hr/><div id="local-search-results"></div></div></div><div id="search-mask"></div><script src="/js/search/local-search.js"></script></div></body></html>