<!DOCTYPE html><html lang="en" data-theme="dark"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0"><title>ZhangYuhanのblog - ಠ_ಠ</title><meta name="author" content="ZhangYuhan"><meta name="copyright" content="ZhangYuhan"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#0d0d0d"><meta name="description" content="Record the growth and learning process">
<meta property="og:type" content="website">
<meta property="og:title" content="ZhangYuhanのblog">
<meta property="og:url" content="https://zhangyuhan.netlify.app/index.html">
<meta property="og:site_name" content="ZhangYuhanのblog">
<meta property="og:description" content="Record the growth and learning process">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="https://zhangyuhan.netlify.app/img/theme/shenhe.jpg">
<meta property="article:author" content="ZhangYuhan">
<meta property="article:tag" content="blog,java,js,日本语">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://zhangyuhan.netlify.app/img/theme/shenhe.jpg"><link rel="shortcut icon" href="/img/theme/favicon.ico"><link rel="canonical" href="https://zhangyuhan.netlify.app/index.html"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/node-snackbar/dist/snackbar.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.min.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: {"path":"/search.xml","preload":false,"languages":{"hits_empty":"We didn't find any results for the search: ${query}"}},
  translate: {"defaultEncoding":2,"translateDelay":0,"msgToTraditionalChinese":"繁","msgToSimplifiedChinese":"簡"},
  noticeOutdate: undefined,
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false},
  copy: {
    success: 'Copy successfully',
    error: 'Copy error',
    noSupport: 'The browser does not support'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: 'days',
  date_suffix: {
    just: 'Just',
    min: 'minutes ago',
    hour: 'hours ago',
    day: 'days ago',
    month: 'months ago'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: {"chs_to_cht":"Traditional Chinese Activated Manually","cht_to_chs":"Simplified Chinese Activated Manually","day_to_night":"Dark Mode Activated Manually","night_to_day":"Light Mode Activated Manually","bgLight":"#49b1f5","bgDark":"#1f1f1f","position":"bottom-left"},
  source: {
    justifiedGallery: {
      js: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.js',
      css: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.css'
    }
  },
  isPhotoFigcaption: false,
  islazyload: false,
  isAnchor: false,
  percent: {
    toc: true,
    rightside: true,
  }
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'ZhangYuhanのblog',
  isPost: false,
  isHome: true,
  isHighlightShrink: false,
  isToc: false,
  postUpdate: '2025-08-09 11:21:04'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
    win.saveToLocal = {
      set: function setWithExpiry(key, value, ttl) {
        if (ttl === 0) return
        const now = new Date()
        const expiryDay = ttl * 86400000
        const item = {
          value: value,
          expiry: now.getTime() + expiryDay,
        }
        localStorage.setItem(key, JSON.stringify(item))
      },

      get: function getWithExpiry(key) {
        const itemStr = localStorage.getItem(key)

        if (!itemStr) {
          return undefined
        }
        const item = JSON.parse(itemStr)
        const now = new Date()

        if (now.getTime() > item.expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return item.value
      }
    }
  
    win.getScript = url => new Promise((resolve, reject) => {
      const script = document.createElement('script')
      script.src = url
      script.async = true
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    })
  
    win.getCSS = (url,id = false) => new Promise((resolve, reject) => {
      const link = document.createElement('link')
      link.rel = 'stylesheet'
      link.href = url
      if (id) link.id = id
      link.onerror = reject
      link.onload = link.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        link.onload = link.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(link)
    })
  
      win.activateDarkMode = function () {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = function () {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
          if (t === 'dark') activateDarkMode()
          else if (t === 'light') activateLightMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
    const detectApple = () => {
      if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
    })(window)</script><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/modify.css"><link rel="stylesheet" href="/css/universe.css"><link rel="stylesheet" href="/css/card.css"><link rel="stylesheet" href="/css/custom.css"><!-- hexo injector head_end start --><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/Zfour/Butterfly-double-row-display@1.00/cardlistpost.min.css"/>
<style>#recent-posts > .recent-post-item >.recent-post-info > .article-meta-wrap > .tags:before {content:"\A";
  white-space: pre;}#recent-posts > .recent-post-item >.recent-post-info > .article-meta-wrap > .tags > .article-meta__separator{display:none}</style>
<!-- hexo injector head_end end --><meta name="generator" content="Hexo 6.3.0"><link rel="alternate" href="/atom.xml" title="ZhangYuhanのblog" type="application/atom+xml">
</head><body><div id="web_bg"></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src="/img/theme/shenhe.jpg" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="sidebar-site-data site-data is-center"><a href="/archives/"><div class="headline">Articles</div><div class="length-num">211</div></a><a href="/tags/"><div class="headline">Tags</div><div class="length-num">276</div></a><a href="/categories/"><div class="headline">Categories</div><div class="length-num">69</div></a></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> Home</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> Archives</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> Tags</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> Categories</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> Link</span></a></div></div></div></div><div class="page" id="body-wrap"><header class="full_page" id="page-header"><nav id="nav"><span id="blog-info"><a href="/" title="ZhangYuhanのblog"><img class="site-icon" src="/img/theme/logo.png"/></a></span><div id="menus"><div id="search-button"><a class="site-page social-icon search" href="javascript:void(0);" rel="external nofollow noreferrer"><i class="fas fa-search fa-fw"></i><span> Search</span></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> Home</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> Archives</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> Tags</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> Categories</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> Link</span></a></div></div><div id="toggle-menu"><a class="site-page" href="javascript:void(0);" rel="external nofollow noreferrer"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="site-info"><h1 id="site-title">ZhangYuhanのblog</h1><div id="site-subtitle"><span id="subtitle"></span></div><div id="site_social_icons"><a class="social-icon" href="https://github.com/zhangyuhannerv" rel="external nofollow noreferrer" target="_blank" title="Github"><i class="fab fa-github"></i></a><a class="social-icon" href="mailto:zhangyuhannerv@gmail.com" rel="external nofollow noreferrer" target="_blank" title="Email"><i class="fas fa-envelope"></i></a></div></div><div id="scroll-down"><i class="fas fa-angle-down scroll-down-effects"></i></div></header><main class="layout" id="content-inner"><div class="recent-posts" id="recent-posts"><div class="recent-post-item"><div class="recent-post-info no-cover"><a class="article-title" href="/posts/15793.html" title="前端自定义下载功能">前端自定义下载功能</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time datetime="2025-08-09T03:14:44.000Z" title="Created 2025-08-09 11:14:44">2025-08-09</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/Dev/">Dev</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/categories/Dev/vue/">vue</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/categories/Dev/vue/base/">base</a></span></div><div class="content">2025新版接口定义
@PostMapping(&quot;/exportWelfareCertificate&quot;)@Operation(summary = &quot;导出福利报销凭证&quot;)public void exportWelfareCertificate(@RequestBody OasCostSharingCertificateExportVo reqParam, HttpServletResponse response) &#123;    List&lt;OasCostSharingCredentialExcelVo&gt; excelDataList = costSharingService.getWelfareCertificateData(reqParam);    String url = null;    String fileName = &quot;福利费凭证_&quot; + DateUtil.format(new Date(),&quot;YYYYMMdd_HHmmss&quot;) + &quot;.xlsx&quot;;    St ...</div></div></div><div class="recent-post-item"><div class="recent-post-info no-cover"><a class="article-title" href="/posts/48333.html" title="表格自定义单元格">表格自定义单元格</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time datetime="2025-02-22T08:39:34.000Z" title="Created 2025-02-22 16:39:34">2025-02-22</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/Dev/">Dev</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/categories/Dev/vue/">vue</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/categories/Dev/vue/ant-design-vue/">ant-design-vue</a></span></div><div class="content">ant-design-vue的a-table组件如何定义单元格内容，整理一下
版本: ant-design-vue4
方式1：bodyCell插槽&lt;template&gt;  &lt;a-table :columns=&quot;columns&quot; :data-source=&quot;data&quot;&gt;    &lt;!-- 使用 bodyCell 插槽自定义单元格内容 --&gt;    &lt;template #bodyCell=&quot;&#123; text, record, index, column &#125;&quot;&gt;      &lt;template v-if=&quot;column.dataIndex === &#x27;value&#x27;&quot;&gt;        &lt;span :style=&quot;text &gt; 0 ? &#123; color: &#x27;red&#x27; &#125; : &#123;&#125;&quot;&gt;          &#123;&#123; text ...</div></div></div><div class="recent-post-item"><div class="recent-post-info no-cover"><a class="article-title" href="/posts/46132.html" title="单例模式">单例模式</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time datetime="2025-01-16T02:21:33.000Z" title="Created 2025-01-16 10:21:33">2025-01-16</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/Dev/">Dev</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/categories/Dev/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/">设计模式</a></span></div><div class="content">单例模式（Singleton Pattern）是 Java 中最简单的设计模式之一。这种类型的设计模式属于创建型模式，它提供了一种创建对象的最佳方式。这种模式涉及到一个单一的类，该类负责创建自己的对象，同时确保只有单个对象被创建。这个类提供了一种访问其唯一的对象的方式，可以直接访问，不需要实例化该类的对象。
单例模式也是开发过程中使用的最多的一种设计模式，它只允许创建一个对象，因此节省内存，加快了对象访问速度，当对象需要被公用的场景就很适合使用单例模式；但是它不适用于变化的对象，如果同一类型的对象总是要在不同的用例场景发生变化，单例就会引起数据的错误，不能保存彼此的状态
需要注意的是:

单例类只能有一个实例

单例类必须自己创建自己的唯一实例

单例类必须给所有其他对象提供这一实例


懒汉模式顾名思义就是特别懒，在类加载时不初始化，等到第一次被使用时才初始化。
public class Singleton&#123;  // 创建示例，注意此时没有new  private static volatile Singleton instance;  // 构造方法私有化，无法在外部创建 ...</div></div></div><div class="recent-post-item"><div class="recent-post-info no-cover"><a class="article-title" href="/posts/58640.html" title="策略模式">策略模式</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time datetime="2024-12-25T02:21:33.000Z" title="Created 2024-12-25 10:21:33">2024-12-25</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/Dev/">Dev</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/categories/Dev/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/">设计模式</a></span></div><div class="content">为什么讲策略模式策略模式，应该是工作中比较常用的设计模式，调用方自己选择用哪一种策略完成对数据的操作，也就是“一个类的行为或其算法可以在运行时更改”我个人的理解是 将一些除了过程不同其他都一样的函数封装成策略，然后调用方自己去选择想让数据执行什么过程策略。常见的例子为根据用户分类推荐不同的排行榜（用户关注点不一样，推荐榜单就不一样）和单例模式一样，随着时间发展，我不再推荐经典策略模式，更推荐简单策略用枚举策略模式，复杂地用工厂策略模式。下面引入一个例子，我们的需求是：对一份股票数据列表，给出低价榜、高价榜、涨幅榜。这其中只有排序条件的区别，比较适合作为策略模式的例子
经典策略模式数据DTO
@Data  public class Stock &#123;        // 股票交易代码      private String code;        // 现价      private Double price;        // 涨幅      private Double rise;  &#125;  
抽象得到的策略接口
public interface Strategy  ...</div></div></div><div class="recent-post-item"><div class="recent-post-info no-cover"><a class="article-title" href="/posts/3157.html" title="在oracle里杀死进程">在oracle里杀死进程</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time datetime="2024-12-23T00:45:13.000Z" title="Created 2024-12-23 08:45:13">2024-12-23</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/Dev/">Dev</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/categories/Dev/oracle/">oracle</a></span></div><div class="content">ORA-00054: resource busy and acquire with NOWAIT specified or timeout expired错误
表示在尝试执行 SQL 语句时，目标资源正被其他会话占用，而由于 NOWAIT 或超时设置，当前操作未能成功获取锁。
目标表正被锁定
可能其他事务正在访问或修改 MYBOOT.PUS_MACHINE_MATERIAL_MESSAGE 表，导致无法获取锁。
解决方式
SELECT    s.sid,    s.serial#,    s.username,    s.program,    o.object_name,    l.locked_modeFROM    v$locked_object lJOIN    dba_objects o ON l.object_id = o.object_idJOIN    v$session s ON l.session_id = s.sidWHERE    o.object_name = &#x27;PUS_MACHINE_MATERIAL_MESSAGE&#x27;;
找到阻塞的会话  ...</div></div></div><div class="recent-post-item"><div class="recent-post-info no-cover"><a class="article-title" href="/posts/52315.html" title="mybatisPlus关联查询分页插件的坑">mybatisPlus关联查询分页插件的坑</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time datetime="2024-11-06T03:23:41.000Z" title="Created 2024-11-06 11:23:41">2024-11-06</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/Dev/">Dev</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/categories/Dev/mybatisPlus/">mybatisPlus</a></span></div><div class="content">背景mybatis-plus自带一个分页插件，能够帮助我们快速的完成分页，详细用法可以看官网。但是分页插件只适用于基础的单表，对于需要聚合查询的一对多情况，有个很深的坑。
正确示例示例1使用子查询的方式，查询子实体，再collection标签里指定子查询语句select和关联的字段column
这个column也可以理解为子查询语句所需的参数，需要把主查询的哪个字段作为参数传入到子查询的查询方法里
// 实体类@Datapublic class NcsErBxzbDTO &#123;    // 主键    private String pkJkbx;    // 单据编号    private String djbh;    // 单据日期    private String djrq;    // 单据总金额    private BigDecimal total;    // 事由    private String zy;    // 借款保险部门主键    private String deptId;    // 借款报销部门名称    private String dept ...</div></div></div><div class="recent-post-item"><div class="recent-post-info no-cover"><a class="article-title" href="/posts/15701.html" title="接口定义常量的方式">接口定义常量的方式</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time datetime="2024-10-22T08:27:14.000Z" title="Created 2024-10-22 16:27:14">2024-10-22</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/Dev/">Dev</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/categories/Dev/Java/">Java</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/categories/Dev/Java/studyEveryday/">studyEveryday</a></span></div><div class="content">常见的在java下定义常量的方式有静态变量或者枚举。今天看到别人的代码，还有用接口来定义常量的，分享一下。
静态常量
public class Constants &#123;    public static final String APP_NAME = &quot;MyApplication&quot;;    public static final int MAX_USERS = 100;    public static final double PI = 3.14159;&#125;
枚举定义常量
public enum Status &#123;    SUCCESS,    FAILURE,    PENDING&#125;
接口定义常量
public class NcConstant &#123;    public interface PROJECT_CLASS &#123;        // 销售类型的项目        String SALES_TYPE = &quot;a&quot;;    &#125;    /**     * 组织编码     */   ...</div></div></div><div class="recent-post-item"><div class="recent-post-info no-cover"><a class="article-title" href="/posts/24020.html" title="@JsonFormat和@DateTimeFormat">@JsonFormat和@DateTimeFormat</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time datetime="2024-10-20T05:40:07.000Z" title="Created 2024-10-20 13:40:07">2024-10-20</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/Dev/">Dev</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/categories/Dev/Java/">Java</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/categories/Dev/Java/studyEveryday/">studyEveryday</a></span></div><div class="content">@JsonFormat 注解@JsonFormat 注解来自于 Jackson 库，通常用于控制日期时间格式在序列化和反序列化时的表现，主要应用于将Java对象转换为JSON时的日期时间格式处理，或者从JSON转换回Java对象时解析日期格式。
用法示例import com.fasterxml.jackson.annotation.JsonFormat;@Datapublic class Event &#123;    @JsonFormat(pattern = &quot;yyyy-MM-dd HH:mm:ss&quot;, timezone = &quot;GMT+8&quot;)    private Date date1;    @JsonFormat(pattern = &quot;yyyy-MM-dd&quot;, timezone = &quot;GMT+8&quot;)    private LocalDate date2;    @JsonFormat(pattern = &quot;yyyy-MM-dd HH:mm:ss&quot;, timezone = &quo ...</div></div></div><div class="recent-post-item"><div class="recent-post-info no-cover"><a class="article-title" href="/posts/18526.html" title="SpringBoot下的反射">SpringBoot下的反射</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time datetime="2024-09-09T02:20:00.000Z" title="Created 2024-09-09 10:20:00">2024-09-09</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/Dev/">Dev</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/categories/Dev/SpringBoot/">SpringBoot</a></span></div><div class="content">普通的java反射调用一个方法的例子如下
import java.lang.reflect.Method;public class ReflectionExample &#123;    public static void main(String[] args) &#123;        try &#123;            // 获取类的 Class 对象            Class&lt;?&gt; clazz = Class.forName(&quot;TestClass&quot;);            // 创建类的实例            Object instance = clazz.getDeclaredConstructor().newInstance();            // 获取方法            Method method = clazz.getMethod(&quot;sayHello&quot;, String.class);            // 调用方法            method.invoke(ins ...</div></div></div><div class="recent-post-item"><div class="recent-post-info no-cover"><a class="article-title" href="/posts/63341.html" title="docker安装minio">docker安装minio</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time datetime="2024-07-08T03:12:13.000Z" title="Created 2024-07-08 11:12:13">2024-07-08</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/Dev/">Dev</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/categories/Dev/minio/">minio</a></span></div><div class="content">项目调试需要本地搭建一个minio，记录一下docker命令
docker run -d -p 9000:9000 -p 9001:9001 \--net=els \--name minio \-e &quot;MINIO_ROOT_USER=minio&quot; \-e &quot;MINIO_ROOT_PASSWORD=minio123&quot; \-v /Users/zhangyuhan/Work/dev-env/minio/data:/data \-v /Users/zhangyuhan/Work/dev-env/minio/config:/root/.minio \minio/minio server /data --console-address &quot;:9001&quot; -address &quot;:9000&quot;
</div></div></div><div class="recent-post-item"><div class="recent-post-info no-cover"><a class="article-title" href="/posts/44557.html" title="java:Path与Files类">java:Path与Files类</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time datetime="2024-06-19T06:19:24.000Z" title="Created 2024-06-19 14:19:24">2024-06-19</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/Dev/">Dev</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/categories/Dev/Java/">Java</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/categories/Dev/Java/studyEveryday/">studyEveryday</a></span></div><div class="content">jDK1.7引入了新的IO操作类,java.nio.file包下的Path接口和Files类。然而网上的好多教程仍然用着比较老旧的File类。这里整理一下新的用法。
创建文件和目录创建文件和目录非常简单。我们可以使用Files类的createFile()方法和createDirectory()方法来创建文件和目录
import java.nio.file.Files;import java.nio.file.Path;import java.nio.file.Paths;import java.io.IOException;public class CreateFileAndDirectory &#123;    public static void main(String[] args) throws IOException &#123;    	  //文件        Path pathToFile = Paths.get(&quot;example.txt&quot;);        //目录        Path pathToDir = Paths.get(&quot; ...</div></div></div><div class="recent-post-item"><div class="recent-post-info no-cover"><a class="article-title" href="/posts/64251.html" title="java split()方法输出示例">java split()方法输出示例</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time datetime="2024-06-06T02:12:24.000Z" title="Created 2024-06-06 10:12:24">2024-06-06</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/Dev/">Dev</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/categories/Dev/Java/">Java</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/categories/Dev/Java/studyEveryday/">studyEveryday</a></span></div><div class="content">在java里，split()方法如果只传入分割字符，那么会自动去除结尾的空字符串。
以前一直不知道，到底写了多少隐藏的bug，ヽ（゜ロ゜；）ノ
情况1String str = &quot;6000,5000&quot;;String[] s = str.split(&quot;,&quot;);System.out.println(Arrays.toString(s));// [6000, 5000]System.out.println(s.length);// 2
情况2String str = &quot;6000,5000&quot;;String[] s = str.split(&quot;,&quot;, -1);System.out.println(Arrays.toString(s));// [6000, 5000]System.out.println(s.length);// 2
情况3String str = &quot;6000,&quot;;String[] s = str.split(&quot;,&quot;);System.out.println(Array ...</div></div></div><div class="recent-post-item"><div class="recent-post-info no-cover"><a class="article-title" href="/posts/62002.html" title="配置ssl证书示例">配置ssl证书示例</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time datetime="2024-05-10T02:38:13.000Z" title="Created 2024-05-10 10:38:13">2024-05-10</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/Ops/">Ops</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/categories/Ops/nginx/">nginx</a></span></div><div class="content">server &#123;    listen 443 ssl; #修改端口号增加ssl    server_name xxxx.cn; # 该域名必须对应当前nginx所在的服务器（通过dns解析的ip和nginx服务器的公网ip相同）    #server_name _;    #ssl on; #注释或删除ssl on    ssl_session_timeout 5m;    ssl_protocols TLSv1 TLSv1.1 TLSv1.2; #按照这个协议配置    ssl_ciphers ECDHE-RSA-AES128-GCM-SHA256:HIGH:!aNULL:!MD5:!RC4:!DHE;#按照这个套件配置    ssl_prefer_server_ciphers on;   #指定PEM格式的证书文件       ssl_certificate     xxxx.pem;   #指定PEM格式的私钥文件      ssl_certificate_key  xxxx.key;    location / &#123;        proxy_set_head ...</div></div></div><div class="recent-post-item"><div class="recent-post-info no-cover"><a class="article-title" href="/posts/44762.html" title="docker安装redis">docker安装redis</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time datetime="2024-05-07T07:11:15.000Z" title="Created 2024-05-07 15:11:15">2024-05-07</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/Dev/">Dev</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/categories/Dev/redis/">redis</a></span></div><div class="content">docker pull redis:7.2docker run \-p 6379:6379 \--name redis-7.2 \--restart=always \--network=els \-d redis:7.2
</div></div></div><div class="recent-post-item"><div class="recent-post-info no-cover"><a class="article-title" href="/posts/56360.html" title="m1,docker安装rabbitmq">m1,docker安装rabbitmq</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time datetime="2024-04-24T08:31:23.000Z" title="Created 2024-04-24 16:31:23">2024-04-24</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/Dev/">Dev</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/categories/Dev/RabbitMq/">RabbitMq</a></span></div><div class="content">基本安装# 拉镜像docker pull rabbitmq:3-management# 运行容器。# 项目用到mqtt，所以额外开启了一个mqtt插件# 可以把--network去掉，或者自己建个自定义网络elsdocker run -d --name rabbitmq-3 --network els -p 5672:5672 -p 15672:15672 -e RABBITMQ_DEFAULT_USER=admin -e RABBITMQ_DEFAULT_PASS=123456  -e RABBITMQ_PLUGINS_ENABLE=rabbitmq_mqtt rabbitmq:3-management
开启延时插件首先下载并启动镜像
docker pull rabbitmq:3.10.6-managementdocker run -d \--name rabbitmq \-e RABBITMQ_DEFAULT_USER=admin \-e RABBITMQ_DEFAULT_PASS=admin \-p 15672:15672 -p 5672:5672 -p 25672:25672  ...</div></div></div><div class="recent-post-item"><div class="recent-post-info no-cover"><a class="article-title" href="/posts/2459.html" title="m1,docker安装mysql5.7">m1,docker安装mysql5.7</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time datetime="2024-04-24T07:19:11.000Z" title="Created 2024-04-24 15:19:11">2024-04-24</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/Dev/">Dev</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/categories/Dev/mysql/">mysql</a></span></div><div class="content">mysql5.7版本没有适合arm架构的docker镜像但是网上大佬说x86镜像的mysql5.7一样能在macbook m1上运行自己试验了，果然可以。整理一下
# 拉取镜像（--platform linux/x86_64一定要加，要不然会报错，提示搜不到适合arm架构的mysql:5.7镜像）docker pull --platform linux/x86_64 mysql:5.7# 建立目录mkdir /Users/zhangyuhan/Work/dev-env/mysql-5.7/logmkdir /Users/zhangyuhan/Work/dev-env/mysql-5.7/datamkdir /Users/zhangyuhan/Work/dev-env/mysql-5.7/conf# 建立配置文件vim /Users/zhangyuhan/Work/dev-env/mysql-5.7/conf/my.cnf# 归纳整理mysql:5.7的一些通用配置[client]default-character-set=utf8mb4[mysql]default-character- ...</div></div></div><div class="recent-post-item"><div class="recent-post-info no-cover"><a class="article-title" href="/posts/57560.html" title="docker安装nginx">docker安装nginx</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time datetime="2024-04-22T06:48:10.000Z" title="Created 2024-04-22 14:48:10">2024-04-22</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/Ops/">Ops</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/categories/Ops/nginx/">nginx</a></span></div><div class="content"># 拉取镜像# 本文章以1.24为例，读者可以自行替换为其他的版本，流程基本不变。docker pull nginx:1.24# 运行容器，该容器只为复制配置文件，后续会删除docker run -p80:80 --name nginx-1.24 -d nginx:1.24# 得到容器id：e6c27ac9bc13# 创建映射目录# 所有的映射目录根目录为/Users/zhangyuhan/Work/dev-env/nginx-1.24，可自行替换mkdir /Users/zhangyuhan/Work/dev-env/nginx-1.24cd /Users/zhangyuhan/Work/dev-env/nginx-1.24mkdir confmkdir htmlmkdir logs# 将容器内的nginx配置文件夹拷贝到conf文件下docker cp e6c27ac9bc13:/etc/nginx /Users/zhangyuhan/Work/dev-env/nginx-1.24/conf# 此时目录结构为conf/nginx/一堆配置文件，所以需要将所有的配置文件拷贝conf下 ...</div></div></div><div class="recent-post-item"><div class="recent-post-info no-cover"><a class="article-title" href="/posts/50662.html" title="elasticsearch通过docker在mackbook m1安装">elasticsearch通过docker在mackbook m1安装</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time datetime="2024-04-10T08:53:13.000Z" title="Created 2024-04-10 16:53:13">2024-04-10</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/Dev/">Dev</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/categories/Dev/elasticsearch/">elasticsearch</a></span></div><div class="content">主要目的：安装elasticsearch和kibana，解决kibana无法连接elasticsearch导致server is not ready yet的问题
建立docker网络els# 建立docker network create els# 查看：有name：els，成功docker network lsNETWORK ID     NAME      DRIVER    SCOPE12f31e2d6df1   bridge    bridge    local4e3cc13000ef   els       bridge    locale0cb50b3dee5   host      host      local18f13202e657   none      null      local
安装elasticsearch# 建立映射文件夹mkdir /Users/zhangyuhan/Work/dev-env/elasticsearch-7.16.2/configmkdir /Users/zhangyuhan/Work/dev-env/elasticsearch-7. ...</div></div></div><div class="recent-post-item"><div class="recent-post-info no-cover"><a class="article-title" href="/posts/30107.html" title="redis主从、哨兵、集群搭建">redis主从、哨兵、集群搭建</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time datetime="2024-02-29T03:28:01.000Z" title="Created 2024-02-29 11:28:01">2024-02-29</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/Ops/">Ops</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/categories/Ops/redis/">redis</a></span></div><div class="content">博客参考
引申：如何给redis主从、哨兵模式添加认证密码
注意：如果三台服务器已经启动了主从和哨兵，那么需要先在三台服务器上关闭所有的哨兵，再在三台服务器上关闭所有的主从
服务器关闭顺序要求：先关从节点（从节点之间不分顺序），再关主节点
如果不知道哪个是主节点，可以通过redis-cli进入redis控制台输入info replication查看主节点的ip
#查看redis服务和哨兵的进程命令：ps -ef|grep redis

redis服务的关闭命令如下：

./redis-cli shutdown

redis哨兵的关闭命令如下

kill -9 哨兵进程
配置认证密码在上面博客配置的基础上执行如下步骤：

三台服务器的redis.conf添加如下配置

requirepass &quot;123456&quot;masterauth &quot;123456&quot;

三台服务器sentinel.conf添加如下配置

# 在上面博客里已经配置了sentinel monitor mymaster 10.13.181.97 6379 2# 新增的配置，要求写在上面配置的 ...</div></div></div><div class="recent-post-item"><div class="recent-post-info no-cover"><a class="article-title" href="/posts/2684.html" title="redis哨兵模式在springboot下的配置">redis哨兵模式在springboot下的配置</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time datetime="2024-02-23T08:20:15.000Z" title="Created 2024-02-23 16:20:15">2024-02-23</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/Dev/">Dev</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/categories/Dev/redis/">redis</a></span></div><div class="content">springboot连接单体的redis配置如下
spring:  redis:    database: 0    host: 127.0.0.1    port: 6379    password:
但是如果是redis哨兵模式，那么上述配置会报错，无法连接redis。
正确连接redis哨兵模式在springboot中的配置如下
# Redis连接信息spring:  redis:    database: 0     # Redis数据库索引（默认为0）    password:       # timeout: 5000   # Redis超时时间（单位：毫秒）    sentinel:      master: mymaster   # Sentinel主节点名称      nodes: 192.168.10.11:26379,192.168.10.12:26379,192.168.10.13:26379   # Sentinel节点地址列表      # 注意端口是26379，即哨兵模式的端口，不是6379，redis服务的端口
</div></div></div><nav id="pagination"><div class="pagination"><span class="page-number current">1</span><a class="page-number" href="/page/2/#content-inner">2</a><span class="space">&hellip;</span><a class="page-number" href="/page/11/#content-inner">11</a><a class="extend next" rel="next" href="/page/2/#content-inner"><i class="fas fa-chevron-right fa-fw"></i></a></div></nav></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src="/img/theme/shenhe.jpg" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info__name">ZhangYuhan</div><div class="author-info__description">(o゜▽゜)o☆[BINGO!]</div></div><div class="card-info-data site-data is-center"><a href="/archives/"><div class="headline">Articles</div><div class="length-num">211</div></a><a href="/tags/"><div class="headline">Tags</div><div class="length-num">276</div></a><a href="/categories/"><div class="headline">Categories</div><div class="length-num">69</div></a></div><a id="card-info-btn" target="_blank" rel="noopener external nofollow noreferrer" href="https://twitter.com/ayanamiichi"><i class="fa-brands fa-twitter"></i><span>Follow Me</span></a><div class="card-info-social-icons is-center"><a class="social-icon" href="https://github.com/zhangyuhannerv" rel="external nofollow noreferrer" target="_blank" title="Github"><i class="fab fa-github"></i></a><a class="social-icon" href="mailto:zhangyuhannerv@gmail.com" rel="external nofollow noreferrer" target="_blank" title="Email"><i class="fas fa-envelope"></i></a></div></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>Announcement</span></div><div class="announcement_content">Welcome to my blog, here is a summary of my daily study and life collected and organized, I hope it can be helpful to you ^_^</div></div><div class="sticky_layout"><div class="card-widget card-webinfo"><div class="item-headline"><i class="fas fa-chart-line"></i><span>Info</span></div><div class="webinfo"><div class="webinfo-item"><div class="item-name">Article :</div><div class="item-count">211</div></div><div class="webinfo-item"><div class="item-name">Run time :</div><div class="item-count" id="runtimeshow" data-publishDate="2023-01-31T16:00:00.000Z"><i class="fa-solid fa-spinner fa-spin"></i></div></div><div class="webinfo-item"><div class="item-name">Total Count :</div><div class="item-count">109.2k</div></div><div class="webinfo-item"><div class="item-name">UV :</div><div class="item-count" id="busuanzi_value_site_uv"><i class="fa-solid fa-spinner fa-spin"></i></div></div><div class="webinfo-item"><div class="item-name">PV :</div><div class="item-count" id="busuanzi_value_site_pv"><i class="fa-solid fa-spinner fa-spin"></i></div></div><div class="webinfo-item"><div class="item-name">Last Push :</div><div class="item-count" id="last-push-date" data-lastPushDate="2025-08-09T03:21:03.785Z"><i class="fa-solid fa-spinner fa-spin"></i></div></div></div></div><div class="card-widget user-map" id="user-map"><div class="item-headline"><i class="fas fa-heartbeat"></i><span>visitor map</span></div><div class="item-content"><script type="text/javascript" id="clstr_globe" src="//clustrmaps.com/globe.js?d=5V2tOKp8qAdRM-i8eu7ETTO9ugt5uKbbG-U7Yj8uMl8"></script></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="copyright">&copy;2023 - 2025 By ZhangYuhan</div><div class="footer_custom_text">Hi, welcome to my blog</a>!</div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="translateLink" type="button" title="Switch Between Traditional Chinese And Simplified Chinese">繁</button><button id="darkmode" type="button" title="Switch Between Light And Dark Mode"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="Toggle between single-column and double-column"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="Setting"><i class="fas fa-cog fa-spin"></i></button><button id="go-up" type="button" title="Back To Top"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="/js/tw_cn.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.umd.min.js"></script><script src="https://cdn.jsdelivr.net/npm/instant.page/instantpage.min.js" type="module"></script><script src="https://cdn.jsdelivr.net/npm/node-snackbar/dist/snackbar.min.js"></script><div class="js-pjax"><script>window.typedJSFn = {
  init: (str) => {
    window.typed = new Typed('#subtitle', Object.assign({
      strings: str,
      startDelay: 300,
      typeSpeed: 150,
      loop: true,
      backSpeed: 50,
    }, null))
  },
  run: (subtitleType) => {
    if (true) {
      if (typeof Typed === 'function') {
        subtitleType()
      } else {
        getScript('https://cdn.jsdelivr.net/npm/typed.js/lib/typed.min.js').then(subtitleType)
      }
    } else {
      subtitleType()
    }
  }
}
</script><script>function subtitleType () {
  if (true) {
    typedJSFn.init(["人の梦は终わらねエ"])
  } else {
    document.getElementById("subtitle").innerHTML = '人の梦は终わらねエ'
  }
}
typedJSFn.run(subtitleType)</script></div><canvas id="universe"></canvas><script defer src="/js/universe.js"></scrip><script src="https://code.jquery.com/jquery-3.7.1.min.js" integrity="sha256-/JqT3SQfawRcv/BIHPThkBvs0OEvtFFmqPF/lYI/Cxo=" crossorigin="anonymous"></script><script type="text/javascript" src="/js/dynamicBg.js"></script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div><div id="local-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">Search</span><span id="loading-status"></span><button class="search-close-button"><i class="fas fa-times"></i></button></nav><div class="is-center" id="loading-database"><i class="fas fa-spinner fa-pulse"></i><span>  Loading the Database</span></div><div class="search-wrap"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="Search for Posts" type="text"/></div></div><hr/><div id="local-search-results"></div></div></div><div id="search-mask"></div><script src="/js/search/local-search.js"></script></div></body></html>